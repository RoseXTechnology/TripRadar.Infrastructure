{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 1,
      "content": {
        "json": "# TripRadar Application Monitoring Dashboard\n\nOverview of application performance, errors, and usage metrics."
      },
      "name": "text - title"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workitem-overview",
        "version": "MetricsItem/2.0",
        "size": 2,
        "chartType": 0,
        "metricScope": 0,
        "resourceType": "microsoft.insights/components",
        "resourceParameter": "resource",
        "resourceIds": [
          "{resource}"
        ],
        "timeContextFromParameter": "timeRange",
        "timeContext": {
          "durationMs": 3600000
        },
        "metrics": [
          {
            "namespace": "microsoft.insights/components",
            "metric": "microsoft.insights/components--requests/count",
            "aggregation": 7,
            "splitBy": null
          },
          {
            "namespace": "microsoft.insights/components",
            "metric": "microsoft.insights/components--exceptions/count",
            "aggregation": 7,
            "splitBy": null
          }
        ],
        "title": "Requests and Exceptions",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "customWidth": "50",
      "name": "requests-exceptions-metric"
    },
    {
      "type": 10,
      "content": {
        "chartId": "workitem-response-time",
        "version": "MetricsItem/2.0",
        "size": 2,
        "chartType": 2,
        "metricScope": 0,
        "resourceType": "microsoft.insights/components",
        "resourceParameter": "resource",
        "resourceIds": [
          "{resource}"
        ],
        "timeContextFromParameter": "timeRange",
        "timeContext": {
          "durationMs": 3600000
        },
        "metrics": [
          {
            "namespace": "microsoft.insights/components",
            "metric": "microsoft.insights/components--requests/duration",
            "aggregation": 4,
            "splitBy": null
          }
        ],
        "title": "Response Time",
        "gridSettings": {
          "rowLimit": 10000
        }
      },
      "customWidth": "50",
      "name": "response-time-metric"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "requests\n| where timestamp >= ago(1h)\n| summarize count() by bin(timestamp, 5m)\n| render timechart",
        "size": 2,
        "title": "Request Rate (Last Hour)",
        "timeContextFromParameter": "timeRange",
        "queryType": 0,
        "resourceType": "microsoft.insights/components"
      },
      "customWidth": "50",
      "name": "request-rate-query"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "exceptions\n| where timestamp >= ago(1h)\n| summarize count() by type, bin(timestamp, 5m)\n| render timechart",
        "size": 2,
        "title": "Exception Rate by Type (Last Hour)",
        "timeContextFromParameter": "timeRange",
        "queryType": 0,
        "resourceType": "microsoft.insights/components"
      },
      "customWidth": "50",
      "name": "exception-rate-query"
    },
    {
      "type": 3,
      "content": {
        "version": "KqlItem/1.0",
        "query": "requests\n| where timestamp >= ago(1h)\n| top 10 by duration desc\n| project timestamp, name, url, duration, resultCode",
        "size": 1,
        "title": "Slowest Requests (Last Hour)",
        "timeContextFromParameter": "timeRange",
        "queryType": 0,
        "resourceType": "microsoft.insights/components"
      },
      "name": "slowest-requests-query"
    }
  ],
  "parameters": [
    {
      "id": "resource",
      "version": "KqlParameterItem/1.0",
      "name": "resource",
      "type": 5,
      "isRequired": true,
      "value": "value::1",
      "isHiddenWhenLocked": false,
      "typeSettings": {
        "resourceTypeFilter": {
          "microsoft.insights/components": true
        },
        "additionalResourceOptions": [
          "value::1"
        ]
      }
    },
    {
      "id": "timeRange",
      "version": "KqlParameterItem/1.0",
      "name": "timeRange",
      "type": 4,
      "isRequired": false,
      "value": {
        "durationMs": 3600000
      },
      "isHiddenWhenLocked": false,
      "typeSettings": {
        "selectableValues": [
          {
            "durationMs": 300000
          },
          {
            "durationMs": 900000
          },
          {
            "durationMs": 1800000
          },
          {
            "durationMs": 3600000
          },
          {
            "durationMs": 14400000
          },
          {
            "durationMs": 43200000
          },
          {
            "durationMs": 86400000
          },
          {
            "durationMs": 172800000
          },
          {
            "durationMs": 259200000
          },
          {
            "durationMs": 604800000
          }
        ],
        "allowCustom": true
      }
    }
  ],
  "styleSettings": {},
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}
